<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<StackPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="smartcitymanagemnet.RegisterController"
           stylesheets="@style.css"
           styleClass="login-root"
           prefWidth="550" prefHeight="700">

    <Region styleClass="card-stack-bottom" rotate="-5" maxWidth="380" maxHeight="520"/>
    <Region styleClass="card-stack-middle" rotate="3" maxWidth="390" maxHeight="530"/>

    <BorderPane fx:id="mainCard" styleClass="card-main" maxWidth="420" maxHeight="560"
                onMousePressed="#handleWindowDragStart"
                onMouseDragged="#handleWindowDrag">

        <top>
            <HBox alignment="CENTER_RIGHT" spacing="10" style="-fx-padding: 15;">
                <Button onAction="#handleMinimize" text="_" styleClass="window-btn"/>
                <Button onAction="#handleClose" text="X" styleClass="window-btn-close"/>
            </HBox>
        </top>

        <center>
            <VBox alignment="CENTER" spacing="15" style="-fx-padding: 10 40 40 40;">

                <Label text="CREATE ACCOUNT" style="-fx-text-fill: white; -fx-font-size: 24; -fx-font-weight: bold;"/>
                <Label text="Join the Smart City Network" style="-fx-text-fill: #a6accd; -fx-font-size: 14;"/>

                <Region prefHeight="10"/>

                <TextField fx:id="txtUser" promptText="Username" prefHeight="40" styleClass="text-field"/>

                <PasswordField fx:id="txtPass" promptText="Password" prefHeight="40" styleClass="text-field"/>
                <PasswordField fx:id="txtConfirmPass" promptText="Confirm Password" prefHeight="40" styleClass="text-field"/>

                <PasswordField fx:id="txtAdminKey" promptText="Admin Key (Optional)" prefHeight="40"
                               style="-fx-border-color: #6a11cb; -fx-border-width: 1; -fx-background-radius: 5; -fx-border-radius: 5;"
                               styleClass="text-field"/>
                <Label text="* Leave empty for User account" style="-fx-text-fill: #666; -fx-font-size: 10;"/>

                <Label fx:id="lblMessage" text="" wrapText="true" textAlignment="CENTER" style="-fx-text-fill: #ff4757; -fx-font-size: 12;"/>

                <Region prefHeight="10"/>

                <Button text="REGISTER NOW" onAction="#handleRegister" maxWidth="Infinity" prefHeight="45" styleClass="button"/>

                <HBox alignment="CENTER" spacing="5">
                    <Label text="Already have an account?" style="-fx-text-fill: #a6accd;"/>
                    <Button text="Login" onAction="#handleBackToLogin" style="-fx-background-color: transparent; -fx-text-fill: #2575fc; -fx-font-weight: bold; -fx-cursor: hand;"/>
                </HBox>

            </VBox>
        </center>
    </BorderPane>
</StackPane>